<!DOCTYPE HTML> 
 
<head> 
  <title>Web proxy</title> 
  <link rel="stylesheet" type="text/css" href="/uberwrt/static/cerowrtstyle.css" /> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head> 
 
<body><div> 
<h3>Web Proxy</h3>

<p>Proxying is an integral component of the http architecture, which
has fallen into disuse, despite easy to configure automatic mechanisms
for configuration (wpad and proxy.pac), and nearly universal support
in all modern equipment (including ipads and ipods!) and browsers. Due
to the lossy nature of wireless, proxying theoretically has native
advantages - each proxied connection consists of two (or more) 'split
TCP' streams, which can ramp up and down independently of packet loss
- smoothing out bandwidth on both sides of the bottleneck to the
internet. </p>

<p>As presently configured in CeroWrt, a polipo'd connection competes
badly with non-proxied streams, in general only being a win where it
has local cache and/or can convert connections into using HTTP 1.1
pipelining. The router defaults to TCP westwood+ which attempts to be
bandwidth friendly, and most clients use a TCP that is more
aggressive, so proxied connections can end up starved for bandwidth vs
connections that are going directly to the internet. </p>


<p>There are multiple solutions to this problem - making the majority
(or all) of your web clients use the proxy is probably the best of
them, which leverages the advantages of westwood+ for
wireless. Another option is to enable TCP cubic on the router (not
recommended, except for testing), and a third, to apply a different
level of QoS to proxied streams than non-proxied, which is the
approach being followed by the ongoing Diffserv work elsewhere. </p>

<p>It is reasonably effective to merely put your highest bandwidth
streams (e.g. Video) through the proxy. As these devices tend not to
move, you'll only have to configure them once, in order to gain the
benefits of proxying elsewhere on your network.</p>

<p>We also note that polipo can act as an effective ipv6&lt;-&gt;ipv4
translator. You can enable your browser to run the proxy over IPv6 and
nearly eliminate your usage of ipv4 for most operations.</p>

<p> The gui interface for polipo is reasonably complete. All you need
to do to turn it on via the gui is allow in your private networks
(including IPv6!), and if you attach a USB stick as a local cache,
point it at the location you plan to be caching in, then configure
your devices to access it on port 8123. While enabling automatic wpad
and proxy.pac configuration is feasible with the integral web server
there are security implications we have not yet addressed. (please see
the wiki for updates)</p>

<P>Additionally, an ad-blocking and experimental web proxy, 'privoxy',
is also in the package repository for cerowrt. It works well to
provide ad blocking facilities to devices that lack such. </p>

<hr />
</div>
<nav>
<p class="footnote"> 
  <a href="/uberwrt">Home</a> |
  <a href="/bgi-bin/redir.sh">Administer your router</a> |
  <a href="support.html">Help!</a> |
  <a href="http://www.bufferbloat.net/">About Bufferbloat</a> |
  <a href="about.html">About Uberwrt</a> |
  <a href="http://www.bufferbloat.net/projects/uberwrt/wiki/Papers">Papers</a> |  
<a href="credits.html">Credits</a>
</nav> 

</body> 
</html> 

